(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{455:function(s,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"running-ios-tests-in-simulator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-ios-tests-in-simulator"}},[s._v("#")]),s._v(" Running iOS tests in simulator")]),s._v(" "),a("p",[s._v("This task will compile and link your iOS framework and run the tests against it in a simulator. All tests under commonTest and iosTest source sets will run together. This is also configured by IntelliJ by default.")]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("task iosTest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" device "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" project"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"iosDevice"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"iPhone 8"')]),s._v("\n    dependsOn kotlin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("targets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("ios"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("binaries"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEBUG'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("linkTaskName\n    group "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" JavaBasePlugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("VERIFICATION_GROUP\n    description "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v("\"Runs tests for target 'ios' on an iOS simulator\"")]),s._v("\n\n    doLast "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" binary "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kotlin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("targets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("ios"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("binaries"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEBUG'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("outputFile\n        exec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            commandLine "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xcrun'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'simctl'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spawn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" device"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" binary"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("absolutePath\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h2",{attrs:{id:"running-tests-on-emulator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-tests-on-emulator"}},[s._v("#")]),s._v(" Running Tests on Emulator")]),s._v(" "),a("ol",[a("li",[s._v("Start your preferred emulator.")]),s._v(" "),a("li",[s._v("In the library root, "),a("code",[s._v("run ./gradlew connectedAndroidTest")])]),s._v(" "),a("li",[s._v("You can also run tests in the Machineâ€™s JVM by mocking android specific code first and then running "),a("code",[s._v("./gradlew testDebugUnitTest")]),s._v(".")])])])}),[],!1,null,null,null);t.default=r.exports}}]);